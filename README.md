# 오늘의 운세 - 운세 품앗이 서비스

인생이 힘들 때, 낯선 익명 속에서도 위로받고 다시 힘을 얻을 수 있는 공간입니다.

## 프로젝트 개요

'오늘의 운세'를 단순한 점이 아닌, 서로의 하루를 응원하고 운을 나누는 따뜻한 연결의 장으로 발전시킨 서비스입니다.

### 주요 기능

#### 1. 행운 점수 시스템
- 오늘의 운세를 전체 사용자 대비 백분위로 표시 (예: "당신은 오늘 상위 15%의 행운을 가졌어요!")
- 행운 등급 분류: 상(上) 30% 이하, 중(中) 31~69%, 하(下) 70% 이상

#### 2. 행운 나누기 기능
- 행운 점수 '상', '중' 사용자는 다른 사용자에게 행운을 나눠줄 수 있습니다
- 나에게 직접 액막이를 요청한 사용자 우선 표시
- 스마트 매칭 알고리즘으로 도움이 필요한 사람 추천
- 5가지 부적(행운, 위로, 힐링, 용기, 희망)과 응원 메시지 전달

#### 3. 액막이 받기 기능
- 행운 점수 '중', '하' 사용자는 도움 요청 가능
- 과거에 행운을 나눠준 사람들에게 자동으로 요청 발송
- 고민 내용 작성 시 매칭 우선순위 상승

#### 4. 고민 작성 및 해결
- 현재 고민을 150자 이내로 작성 가능
- 고민 해결 후 감사 인사 전송

#### 5. 감사 인사 기능
- 나를 도와준 사람들에게 감사 메시지 전송
- 커스텀 메시지 작성 가능 (최대 100자)

## 기술 스택

### 백엔드
- **Flask**: 웹 프레임워크
- **SQLAlchemy**: ORM
- **SQLite**: 데이터베이스

### 프론트엔드
- **HTML5**: 마크업
- **CSS3**: 스타일링 (Flexbox, Grid)
- **Vanilla JavaScript**: 인터랙션

### 특징
- **반응형 디자인**: 모바일, 태블릿, 데스크톱 모두 지원
- **익명성 보장**: 자동 생성된 닉네임으로 완전 익명
- **실시간 매칭**: 고민 작성 여부, 행운 점수, 관계 히스토리 기반 스마트 매칭

## 설치 및 실행

### 요구사항
- Python 3.8 이상

### 설치 방법

1. 저장소 클론
```bash
git clone <repository-url>
cd chatbot
```

2. 패키지 설치
```bash
pip install -r requirements.txt
```

3. 애플리케이션 실행
```bash
python app.py
```

4. 브라우저에서 접속
```
http://localhost:5000
```

## 프로젝트 구조

```
chatbot/
├── app.py                  # 메인 애플리케이션
├── models.py               # 데이터베이스 모델
├── requirements.txt        # 필요한 패키지 목록
├── templates/
│   └── index.html         # 메인 페이지
├── static/
│   ├── css/
│   │   └── style.css      # 스타일시트
│   ├── js/
│   │   └── main.js        # JavaScript
│   └── images/
│       └── charms/        # 부적 이미지
└── fortune_sharing.db     # SQLite 데이터베이스 (자동 생성)
```

## API 엔드포인트

### 사용자
- `POST /api/user/create` - 새 사용자 생성
- `GET /api/user/<user_id>` - 사용자 정보 조회
- `GET /api/user/<user_id>/received-fortunes` - 받은 행운 목록
- `GET /api/user/<user_id>/concerns` - 사용자의 고민 목록

### 행운 나누기
- `POST /api/fortune/give` - 행운 나누기
- `GET /api/matching/<user_id>` - 매칭된 사용자 목록

### 액막이 받기
- `POST /api/help-request/create` - 액막이 요청 생성
- `GET /api/help-requests/direct/<user_id>` - 직접 요청 목록

### 고민
- `POST /api/concern/create` - 고민 작성
- `POST /api/concern/<concern_id>/resolve` - 고민 해결

### 감사 인사
- `POST /api/gratitude/send` - 감사 인사 보내기

### 통계
- `GET /api/stats` - 전체 통계

## 사용자 시나리오

### 시나리오 1: 행운 점수 '하' 사용자
1. 운세 확인: 하위 85% 운세 받음
2. [액막이 받기] 버튼 클릭
3. 조건 미충족 시 안내 메시지 표시
4. 다음 날 운세가 좋을 때 다시 시도

### 시나리오 2: 행운 점수 '상' 사용자
1. 운세 확인: 상위 15% 운세 받음
2. [행운 나누기] 버튼 클릭
3. 액막이 요청이 온 사용자 확인
4. 부적과 응원 메시지 선택하여 전송

### 시나리오 3: 고민 작성 및 요청
1. 운세 확인: 하위 90% 운세
2. [액막이 받기] 클릭
3. 고민 내용 작성 (최대 150자)
4. 요청하기 버튼으로 과거 도움을 준 사람들에게 자동 요청

### 시나리오 4: 감사 인사
1. 받은 행운 확인
2. [감사 인사 보내기] 버튼 클릭
3. 감사 메시지 작성 (최대 100자)
4. 도움을 준 모든 사람에게 일괄 전송

## 디자인 특징

### 색상 팔레트
- Primary: #FF6B9D (핑크)
- Secondary: #C44569 (다크 핑크)
- Accent: #FFA07A (코랄)
- Background: 그라디언트 (#FFF5F7 → #FFE5EC)

### 운세 등급별 색상
- 상(上): 골드 그라디언트
- 중(中): 스카이블루 그라디언트
- 하(下): 라벤더 그라디언트

### 반응형 브레이크포인트
- Mobile: < 480px
- Tablet: 481px ~ 768px
- Desktop: > 768px

## 향후 개선 사항

### 고도화 기능
- 고민 카테고리 설정
- 고민 공개 범위 설정
- 품앗이 기록 확인용 캘린더
- 프로필 커스터마이징
- 조건 달성 시 특별 부적 지급
- 받은 부적 보관함
- 품앗이 통계 기능
- 고민 키워드 통계
- 친구 초대 및 추가 기능
- 지정일/지정월 운세 유료화

## 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 기여

버그 리포트, 기능 제안, 풀 리퀘스트를 환영합니다!

---

**"운을 나누고, 위로를 받는 따뜻한 연결의 공간"**
